{"version":3,"file":"static/js/134.99978e31.chunk.js","mappings":"mOAuEMA,EAAcC,EAAAA,GAAAA,MAAH,iJAWjB,UA3Ee,WAAO,IAAD,EACnB,GAA0BC,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA4BF,EAAAA,EAAAA,UAAS,MAArC,eAAOG,EAAP,KAAeC,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAI,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,GACpCC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,IAAkBL,GAAMM,MAAK,SAAAC,GAC3BX,EAAUW,EAAKC,QAChB,GACF,GAAE,CAACR,IAEJ,IAIMS,EAAc,WAClBV,EAAgBN,EAAQ,CAAEA,MAAAA,GAAU,CAAC,EACtC,EAQD,OAAKE,GAaH,iCACE,4BACE,SAACL,EAAD,CACEoB,KAAK,OACLC,MAAOlB,EACPmB,SAhCa,SAAAC,GACnBnB,EAASmB,EAAEC,OAAOH,MACnB,EA+BOI,UAzBe,SAAAF,GACP,UAAVA,EAAEG,KACJP,GAEH,KAuBK,mBAAQQ,QAASR,EAAjB,SAA8B,eAEhC,wBACGd,EAAOuB,KAAI,SAAAC,GAAI,OACd,yBACE,UAAC,KAAD,CAAMC,MAAO,CAAEC,KAAMnB,GAAYoB,GAAE,yBAAaH,QAAb,IAAaA,OAAb,EAAaA,EAAMI,IAAtD,UACGJ,EAAKK,MACLL,EAAKnB,SAHDmB,EAAKI,GADA,UAtBlB,SAAC,KAAD,CACEE,SAAS,EACTC,OAAO,KACPC,MAAM,KACNC,UAAU,iBACVC,aAAc,CAAC,EACfC,aAAa,kBA2BpB,C,wMCnEDC,EAAAA,EAAAA,SAAAA,QAAyB,+BAEzB,IAAMC,EAAU,mCAEHC,EAAmB,mCAAG,WAAMC,GAAN,yFACVH,EAAAA,EAAAA,IAAU,oBAAqB,CACpDG,QAAO,kBACFA,GADC,IAEJC,QAASH,MAJoB,uBACzBzB,EADyB,EACzBA,KADyB,kBAO1BA,GAP0B,2CAAH,sDAUnBF,EAAiB,mCAAG,WAAOZ,EAAOyC,GAAd,yFACRH,EAAAA,EAAAA,IAAU,gBAAiB,CAChDG,QAAO,gBACLzC,MAAAA,GACGyC,GAFC,IAGJC,QAASH,MALkB,uBACvBzB,EADuB,EACvBA,KADuB,kBAQxBA,GARwB,2CAAH,wDAWjB6B,EAAc,mCAAG,WAAMb,GAAN,yFACLQ,EAAAA,EAAAA,IAAA,iBAAoBR,GAAM,CAC/CW,OAAQ,CACNC,QAASH,KAHe,uBACpBzB,EADoB,EACpBA,KADoB,kBAMrBA,GANqB,2CAAH,sDASd8B,EAAiB,mCAAG,WAAMd,GAAN,yFACRQ,EAAAA,EAAAA,IAAA,iBAAoBR,EAApB,YAAkC,CACvDW,OAAQ,CACNC,QAASH,KAHkB,uBACvBzB,EADuB,EACvBA,KADuB,kBAMxBA,GANwB,2CAAH,sDASjB+B,EAAiB,mCAAG,WAAMf,GAAN,yFACRQ,EAAAA,EAAAA,IAAA,iBAAoBR,EAApB,YAAkC,CACvDW,OAAQ,CACNC,QAASH,KAHkB,uBACvBzB,EADuB,EACvBA,KADuB,kBAMxBA,GANwB,2CAAH,qD","sources":["pages/Movies.jsx","services/api.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { Blocks } from 'react-loader-spinner';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport { fetchSearchMovies } from 'services/api';\n\nimport styled from 'styled-components';\n\nconst Movies = () => {\n  const [query, setQuery] = useState('');\n  const [movies, setMovies] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const name = searchParams.get('query') ?? '';\n  const location = useLocation();\n\n  useEffect(() => {\n    fetchSearchMovies(name).then(data => {\n      setMovies(data.results);\n    });\n  }, [name]);\n\n  const handleChange = e => {\n    setQuery(e.target.value);\n  };\n\n  const handleQuery = () => {\n    setSearchParams(query ? { query } : {});\n  };\n\n  const handleKeyPress = e => {\n    if (e.key === 'Enter') {\n      handleQuery();\n    }\n  };\n\n  if (!movies) {\n    return (\n      <Blocks\n        visible={true}\n        height=\"80\"\n        width=\"80\"\n        ariaLabel=\"blocks-loading\"\n        wrapperStyle={{}}\n        wrapperClass=\"blocks-wrapper\"\n      />\n    );\n  }\n  return (\n    <>\n      <div>\n        <StyledInput\n          type=\"text\"\n          value={query}\n          onChange={handleChange}\n          onKeyDown={handleKeyPress}\n        />\n        <button onClick={handleQuery}>Search</button>\n      </div>\n      <ul>\n        {movies.map(item => (\n          <li key={item.id}>\n            <Link state={{ from: location }} to={`/movies/${item?.id}`}>\n              {item.title}\n              {item.name}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </>\n  );\n};\n\nconst StyledInput = styled.input`\n  width: 300px;\n  margin-bottom: 80px;\n  margin-right: 10px;\n\n  &:hover,\n  &:focus {\n    border-color: blue;\n  }\n`;\n\nexport default Movies;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nconst API_KEY = 'ca7c7084b600eecae0e2f34ff34fb9e6';\n\nexport const fetchTrendingMovies = async params => {\n  const { data } = await axios.get('/trending/all/day', {\n    params: {\n      ...params,\n      api_key: API_KEY,\n    },\n  });\n  return data;\n};\n\nexport const fetchSearchMovies = async (query, params) => {\n  const { data } = await axios.get('/search/movie', {\n    params: {\n      query,\n      ...params,\n      api_key: API_KEY,\n    },\n  });\n  return data;\n};\n\nexport const fetchMovieById = async id => {\n  const { data } = await axios.get(`/movie/${id}`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return data;\n};\n\nexport const fetchMovieCredits = async id => {\n  const { data } = await axios.get(`/movie/${id}/credits`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return data;\n};\n\nexport const fetchMovieReviews = async id => {\n  const { data } = await axios.get(`/movie/${id}/reviews`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return data;\n};\n"],"names":["StyledInput","styled","useState","query","setQuery","movies","setMovies","useSearchParams","searchParams","setSearchParams","name","get","location","useLocation","useEffect","fetchSearchMovies","then","data","results","handleQuery","type","value","onChange","e","target","onKeyDown","key","onClick","map","item","state","from","to","id","title","visible","height","width","ariaLabel","wrapperStyle","wrapperClass","axios","API_KEY","fetchTrendingMovies","params","api_key","fetchMovieById","fetchMovieCredits","fetchMovieReviews"],"sourceRoot":""}